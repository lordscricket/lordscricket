<!doctype html><html lang=""><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Eleventy v2.0.1"><link rel="stylesheet" href="/css/stylesheet.css"><link rel="shortcut icon" type="image/svg+xml" href="/img/favicon.svg"><link rel="icon" href="/img/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><base href="https://lordscricket.org.au"><link type="text/css" rel="stylesheet" href="/css/dark.css" media="screen" title="Code highlight"><title>Déploiement</title><link rel="alternate" hreflang="" href="https://lordscricket.org.au/fr/blog/deploy/"><link id="default-lang" rel="alternate" hreflang="en" href="https://lordscricket.org.au/en/blog/deploy/"><meta name="description" content="Notre Polyglot Tech Blog est fin-prêt. Voyons quelques manières de le déployer sur le serveur."><meta name="keywords" content=",post, fr, deploiement, GitLab, Netlify, GitHub"><meta name="author" content="Florent Tassy"></head><body id="nightModeDiv" class="dark-theme" vocab="https://schema.org/"><header><nav class="nav"><div class="content"><br><div class="nav-left"><a class="brand" href="/fr/" title="" style="color: #a8a49a;"><img src="/img/green-ball-hand.png" alt="Lords Cricket logo" width="60" height="49"> Lords Cricket</a></div><br><p style="color: #a8a49a;">5-a-side tennis ball cricket for wannabes and hasbeens</p><div class="nav-right"><div class="tabs"><a href="/fr/" style="color: #000000;"></a> <a href="/fr/about" style="color: #000000;"></a> <a href="/fr/blog" style="color: #000000;"></a> <a href="/fr/rules-green-ball" style="color: #000000;"></a> <a href="/fr/season-current" style="color: #000000;"></a><div id="nightModeWrapper"><button id="nightModeButton" class="button icon-only" title="Color schema switch" aria-label="Color schema switch"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="24" fill="var(--font-color)"><path d="M10 18c.112 0 .112-5.333 0-16a8 8 0 1 0 0 16zm0 2C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg></button></div></div></div></div><span class="bd-success bg-light" style="font-size: 2rem; font-weight: bold; text-align:center; position:fixed; width: 350px; top:60px; right:-120px;
            display:block; -webkit-transform: rotate(45deg); -moz-transform: rotate(45deg); transform: rotate(45deg); 
            padding: 4px 12px 4px 0px; z-index:99"><span>in development</span></span></nav></header><main><article class="container" typeof="BlogPosting"><header><h1 property="headline">Déploiement</h1><div><div class="author" property="author" typeof="Person" resource="/andrew"><span property="name">Florent Tassy</span></div><time datetime="2023-06-11T12:00:00" property="datePublished">6/11/2023</time></div><span class="chip is-small" property="keywords"><a href="/tags/fr" typeof="Text"><span>fr </span></a></span><span class="chip is-small" property="keywords"><a href="/tags/deploiement" typeof="Text"><span>deploiement </span></a></span><span class="chip is-small" property="keywords"><a href="/tags/GitLab" typeof="Text"><span>GitLab </span></a></span><span class="chip is-small" property="keywords"><a href="/tags/Netlify" typeof="Text"><span>Netlify </span></a></span><span class="chip is-small" property="keywords"><a href="/tags/GitHub" typeof="Text"><span>GitHub</span></a></span></header><div property="abstract">Notre Polyglot Tech Blog est fin-prêt. Voyons quelques manières de le déployer sur le serveur.</div><section class="paragraph text-lg" property="articleBody"><h2>Introduction</h2><div>Maintenant que nous avons adapté le modèle avec notre contenu, il est temps de le déployer sur le web. Passons au travers de quelques scénarios de déploiement communs.</div><h2>Déploiement manuel</h2><p>Afin d'avoir des hyperliens corrects, vous devez connaître l'URL sur laquelle le site sera déployé. Créez un fichier nommé <code>prod.js</code> à la racine du blog et remplissez-le avec l'URL de base de votre site ainsi que le sous-répertoire dans lequel il sera déployé. Par exemple, s'il doit 'etre déployé à l'adresse https://example.com/subpath, le fichier devrait contenir :</p><pre class="language-js" tabindex="0"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
    <span class="token literal-property property">baseUrl</span><span class="token operator">:</span> <span class="token string">"https://example.com/subpath"</span><span class="token punctuation">,</span> <span class="token comment">// Notez l'absence de "/" à la fin de l'URL</span>
    <span class="token literal-property property">pathPrefix</span><span class="token operator">:</span> <span class="token string">"subpath"</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>S'il n'y a pas de sous-répertoire, laissez la valeur vide : <code>pathPrefix: &quot;&quot;</code>. S'il y a un sous-répertoire, vous pouvez effacer le fichier <code>robots.txt</code> car il ne sera pas lu.</p><p>Nous pouvons maintenant empaqueter le blog, c'est-à-dire traiter tous les fichiers du répertoire <code>src</code> afin de générer les fichiers HTML, JavaScript, CSS et autres fichiers statiques qui seront placés sur le serveur. Je vous recommande de suivre les étapes suivantes :</p><ol><li>Arrêtez le serveur de développement local s'il tourne.</li><li>Videz le répertoire <code>public</code>.</li></ol><pre class="language-bash" tabindex="0"><code class="language-bash"><span class="token function">npm</span> run clean <span class="token comment"># avec npm</span>
<span class="token function">yarn</span> clean <span class="token comment"># avec Yarn</span></code></pre><ol start="3"><li>Empaquetez le blog prêt au déploiement</li></ol><pre class="language-bash" tabindex="0"><code class="language-bash"><span class="token function">npm</span> run manual:build <span class="token comment"># avec npm</span>
<span class="token function">yarn</span> manual:build <span class="token comment"># avec Yarn</span></code></pre><p>Vous n'avez ensuite plus qu'à copier le contenu du répertoire <code>public</code> sur le serveur.</p><h2>Déploiement sur GitLab Pages</h2><p>Le modèle propose un fichier <code>.gitlab-ci.yml</code> qui devrait déployer le blog correctement. Vous avez seulement besoin d'adapter le fichier <code>gitlab-pages.js</code> :</p><pre class="language-js" tabindex="0"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
    <span class="token literal-property property">baseUrl</span><span class="token operator">:</span> <span class="token string">"https://florent_tassy.gitlab.io/polyglot-tech-blog"</span><span class="token punctuation">,</span> <span class="token comment">// Notez l'absence de "/" à la fin de l'URL</span>
    <span class="token literal-property property">pathPrefix</span><span class="token operator">:</span> <span class="token string">"polyglot-tech-blog"</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>&quot;Poussez&quot; ensuite le dépôt sur votre instance de GitLab. Si le dépôt distant pest correctement configuré, la pipeline de CI/CD va déployer le blog.</p><h2>Déploiement sur Netlify</h2><p>Vous pouvez vous réferrer à la <a href="https://docs.netlify.com/git/overview/">documentation de Netlify</a>.</p><p>Pour un déploiement manuel, le modèle fournit un fichier <code>netlify.js</code> à adapter pour empaqueter le blog convaneblement :</p><pre class="language-js" tabindex="0"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
    <span class="token literal-property property">baseUrl</span><span class="token operator">:</span> <span class="token string">"https://polyglot-tech-blog.netlify.app"</span><span class="token punctuation">,</span> <span class="token comment">// Notez l'absence de "/" à la fin de l'URL</span>
    <span class="token literal-property property">pathPrefix</span><span class="token operator">:</span> <span class="token string">""</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Vous pouvez maintenant empaqueter le blog en suivant les étapes ci-après :</p><ol><li>Arrêtez le serveur de développement local s'il tourne.</li><li>Videz le répertoire <code>public</code>.</li></ol><pre class="language-bash" tabindex="0"><code class="language-bash"><span class="token function">npm</span> run clean <span class="token comment"># avec npm</span>
<span class="token function">yarn</span> clean <span class="token comment"># avec Yarn</span></code></pre><ol start="3"><li>Empaquetez le blog prêt au déploiement</li></ol><pre class="language-bash" tabindex="0"><code class="language-bash"><span class="token function">npm</span> run netlify:build <span class="token comment"># avec npm</span>
<span class="token function">yarn</span> netlify:build <span class="token comment"># avec Yarn</span></code></pre><p>Vous pouvez maintenant vous connecter à Netlify et glisser-déposer le répertoire <code>public</code>.</p><h2>Déploiement sur GitHub Pages</h2><p>Le modèle propose un fichier <code>.github &gt; workflows &gt; build-and-deploy.yml</code> qui devrait déployer le blog correctement. Vous avez seulement besoin d'adapter le fichier <code>github-pages.js</code> :</p><pre class="language-js" tabindex="0"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
    <span class="token literal-property property">baseUrl</span><span class="token operator">:</span> <span class="token string">"https://ftassy.github.io/Polyglot-Tech-Blog"</span><span class="token punctuation">,</span> <span class="token comment">// Notez l'absence de "/" à la fin de l'URL</span>
    <span class="token literal-property property">pathPrefix</span><span class="token operator">:</span> <span class="token string">"Polyglot-Tech-Blog"</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>&quot;Poussez&quot; ensuite le code sur GitHub. Si le dépôt distant est correctement configuré, la GitHub Action va déployer le blog.</p><h2>Conclusion</h2><p>Nous avons vu comment déployer notre blog sur un serveur de manière manuelle et sur les services d'hébergement GitLab Pages, GitHub Pages et Netlify. Si votre scénario n'est pas couvert ici, vous devriez pouvoir adapter un de ceux proposés à votre cas spécifique. Félications, votre blog est maintenant en ligne !</p></section></article></main><footer><div class="content"><div class="row"><div class="col is-center"><p></p><ul style="list-style: none;"><li typeof="Organisation" resource="/andrew"><a href="/andrew" target="_blank"><span property="name">Lords Cricket Club</span></a></li><li><ul><li typeof="WebSite"><a href="https://florent_tassy.gitlab.io/polyglot-tech-blog" property="url"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2.5 24 24" width="24" fill="currentColor"><path d="M10.006 18.443L6.326 7.118h7.36l-3.68 11.325zm0 0L1.168 7.118h5.158l3.68 11.325zM1.168 7.118l8.838 11.325-9.68-7.032a.762.762 0 0 1-.276-.852l1.118-3.441zm0 0L3.385.296a.38.38 0 0 1 .724 0l2.217 6.822H1.168zm8.838 11.325l3.68-11.325h5.157l-8.837 11.325zm8.837-11.325l1.119 3.441a.762.762 0 0 1-.277.852l-9.68 7.032 8.838-11.325zm0 0h-5.157L15.902.296a.38.38 0 0 1 .725 0l2.216 6.822z"></path></svg> Demo on GitLab (theme)</a></li></ul></li></ul></div><div class="col is-center"><a href="https://lordscricket.org.au/en/feed.xml" title="RSS feed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -4 24 24" width="24" fill="currentColor"><path d="M1.996 15.97a1.996 1.996 0 1 1 0-3.992 1.996 1.996 0 0 1 0 3.992zM1.12 7.977a.998.998 0 0 1-.247-1.98 8.103 8.103 0 0 1 9.108 8.04v.935a.998.998 0 1 1-1.996 0v-.934a6.108 6.108 0 0 0-6.865-6.06zM0 1.065A.998.998 0 0 1 .93.002C8.717-.517 15.448 5.374 15.967 13.16c.042.626.042 1.254 0 1.88a.998.998 0 1 1-1.992-.133c.036-.538.036-1.077 0-1.614C13.53 6.607 7.75 1.548 1.065 1.994A.998.998 0 0 1 0 1.064z"></path></svg></a></div><div class="col is-center" typeof="SoftwareSourceCode"><a href="https://gitlab.com/florent_tassy/polyglot-tech-blog" class="logo" property="codeRepository"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2.5 24 24" width="24" fill="currentColor"><path d="M10.006 18.443L6.326 7.118h7.36l-3.68 11.325zm0 0L1.168 7.118h5.158l3.68 11.325zM1.168 7.118l8.838 11.325-9.68-7.032a.762.762 0 0 1-.276-.852l1.118-3.441zm0 0L3.385.296a.38.38 0 0 1 .724 0l2.217 6.822H1.168zm8.838 11.325l3.68-11.325h5.157l-8.837 11.325zm8.837-11.325l1.119 3.441a.762.762 0 0 1-.277.852l-9.68 7.032 8.838-11.325zm0 0h-5.157L15.902.296a.38.38 0 0 1 .725 0l2.216 6.822z"></path></svg> GitLab</a></div></div></div></footer><script async src="/js/theme.js"></script></body></html>